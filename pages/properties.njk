---
permalink: properties.html
layout: null
---
{% extends 'layouts/base.njk' %}
{% set pageSlug = 'properties' %}
{% set pageData = pages[pageSlug] or {} %}
{% set site = settings.default or {} %}
{% set hero = pageData.hero or {
  eyebrow: pageData.heroEyebrow,
  heading: pageData.heroHeading,
  subheading: pageData.heroSubheading
} %}
{% set propertyConfig = site.search and site.search.properties or {} %}
{% set filters = propertyConfig.filters or {} %}
{% set sortConfig = propertyConfig.sort or {} %}
{% block content %}
<section class="vh-section" data-property-list>
  <div class="vh-container vh-stack vh-stack--xl">
    <header class="vh-list-header">
      <div class="vh-list-header__meta">
        <p id="property-count" aria-live="polite"></p>
      </div>
      {% if sortConfig.options %}
      <div class="vh-form__field vh-list-header__control">
        <label for="property-sort">Kartot pec</label>
        <select id="property-sort" name="sort" form="property-filter-form">
          <option value="">Bez kartosanas</option>
          {% for option in sortConfig.options %}
          <option value="{{ option.value }}"{% if option.value == (sortConfig.default or '') %} selected{% endif %}>{{ option.label }}</option>
          {% endfor %}
        </select>
      </div>
      {% endif %}
    </header>

    <form id="property-filter-form" class="vh-filter" data-filter-form>
      <div class="vh-filter__grid">
        <div class="vh-form__field">
          <label for="property-location">Atrasanas vieta</label>
          <select id="property-location" name="location">
            <option value="">Visas atrasanas vietas</option>
            {% for location in filters.locations or [] %}
            <option value="{{ location }}">{{ location }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="vh-form__field">
          <label for="property-price">Cena</label>
          <select id="property-price" name="priceRange">
            <option value="">Visas cenas</option>
            {% for range in filters.priceRanges or [] %}
            <option value="{{ loop.index0 }}">{{ range.label }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="vh-form__field">
          <label for="property-bedrooms">Gulamistabas</label>
          <select id="property-bedrooms" name="bedrooms">
            <option value="">Visas gulamistabas</option>
            {% for step in filters.bedroomSteps or [] %}
              {% if loop.last %}
                <option value="{{ step }}+">{{ step }}+</option>
              {% else %}
                <option value="{{ step }}">{{ step }}</option>
              {% endif %}
            {% endfor %}
          </select>
        </div>
        <div class="vh-form__field">
          <label for="property-type">Ipasuma tips</label>
          <select id="property-type" name="propertyType">
            <option value="">Visi tipi</option>
            {% for type in filters.propertyTypes or [] %}
            <option value="{{ type }}">{{ type | replace('-', ' ') | replace('_', ' ') | capitalize }}</option>
            {% endfor %}
          </select>
        </div>
      </div>
      <div class="vh-filter__actions">
        <button type="submit" class="vh-button vh-button--primary">Piemerot</button>
        <button type="reset" class="vh-button vh-button--ghost">Notirit</button>
      </div>
    </form>

    <div id="property-filter-chips" class="vh-chip-group" hidden aria-live="polite"></div>

    <div class="vh-grid vh-grid--responsive" id="property-grid" aria-live="polite"></div>

    <div class="vh-empty" id="property-empty" hidden>
      <p>Nav atrasti ipasumi, kas atbilst jusu kriterijiem.</p>
      <button type="button" class="vh-button vh-button--subtle" id="property-empty-reset">Notirit filtrus</button>
    </div>
  </div>
</section>
{% endblock %}

{% block scripts %}
  <script type="application/json" id="property-filter-config">{{ propertyConfig | json | safe }}</script>
  <script src="/js/properties.js" defer></script>
{% endblock %}
